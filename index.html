<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>KSP Tracker Test</title>
<style>
  html,body {margin:0; height:100%; overflow:hidden; background:#000; color:#fff; font-family:sans-serif;}
  #timeLabel {position:absolute; top:10px; left:10px; background:rgba(0,0,0,0.6); padding:6px 10px; border-radius:6px;}
</style>
</head>
<body>
<div id="timeLabel">UTC: <span id="utcTime">â€”</span></div>

<!-- Use Three.js r141 (with OrbitControls globally available) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.141.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.141.0/examples/js/controls/OrbitControls.js"></script>

<script>
try {
  let scene = new THREE.Scene();
  let camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0,0,5);

  let renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  let controls = new THREE.OrbitControls(camera, renderer.domElement);

  // Simple gray sphere
  let geometry = new THREE.SphereGeometry(2, 32, 32);
  let material = new THREE.MeshBasicMaterial({color:0x8888ff});
  let earth = new THREE.Mesh(geometry, material);
  scene.add(earth);

  let light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(5,5,5);
  scene.add(light);

  function animate(){
    requestAnimationFrame(animate);
    earth.rotation.y += 0.001;
    document.getElementById('utcTime').textContent =
      new Date().toISOString().replace('T',' ').replace('Z',' UTC');
    controls.update();
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
} catch (err) {
  console.error("Error in script:", err);
  document.body.innerHTML = "<h1 style='color:red'>JS ERROR</h1><pre>"+err+"</pre>";
}
</script>
</body>
</html>
